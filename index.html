<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Thach MAI Resume</title>
        <meta name="author" content="Thach MAI">

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- FONT -->
        <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

        <!-- CSS -->
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/skeleton.css">
        <link rel="stylesheet" href="css/main.css">

        <!-- Favicon -->
<!--        <link rel="icon" type="image/png" href="imgs/favicon.png">
        <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-40873307-1', 'thachmai.info');
ga('send', 'pageview');
        </script>
    -->
    </head>
    <body class="ambient">
        <!-- top header -->
        <div class="surround" style="height: 50px;">
            <div class="container">
                <h4>Thach MAI</h4>
            </div>
        </div>

        <!-- main content -->
        <div class="container">
            <div class="row paper">
                <h4>Who I am</h4>
                <p>This index.html page is a placeholder with the CSS, font and favicon. It's just waiting for you to add some content! If you need some help hit up the <a href="http://www.getskeleton.com">Skeleton documentation</a>.</p>
            </div>

            <div class="row">
                <div id="Front" class="three columns paper">
                    <h6>Web Frontend</h6>
                </div>
                <div id="Back" class="three columns paper">
                    <h6>Backend</h6>
                </div>
                <div id="DevOps" class="three columns paper">
                    <h6>DevOps</h6>
                </div>
                <div id="Business" class="three columns paper">
                    <h6>Business Domain</h6>
                </div>
            </div>

             <div class="row paper">
                <h4>What I've been working on</h4>
                <p>This index.html page is a placeholder with the CSS, font and favicon. It's just waiting for you to add some content! If you need some help hit up the <a href="http://www.getskeleton.com">Skeleton documentation</a>.</p>
            </div>

             <div class="row paper">
                <h4>What I studied</h4>
                <p>This index.html page is a placeholder with the CSS, font and favicon. It's just waiting for you to add some content! If you need some help hit up the <a href="http://www.getskeleton.com">Skeleton documentation</a>.</p>
            </div>

      </div>
      <script src="d3.v3.min.js"></script>
      <script src="js/skillGraph.js"></script>
      <script>
function paperCombine(originatorId) {
    var transCount = 0;

    function makeSingle() {
        var xOffset;
        if (--transCount) {
            return;
        }

        var front = document.getElementById('Front');
        var selected = document.getElementById(originatorId);
        xOffset = selected.getBoundingClientRect().left - front.getBoundingClientRect().left;
        var duration = 3 * xOffset;

        d3.select(selected).style('width', '100%').style('margin-left', '0%');
        d3.selectAll('.three.columns:not(#' + originatorId + ')').style('display', 'none');
        d3.select('#' + originatorId + ' h6').style('margin-left', xOffset + 'px').transition().duration(duration)
            .style('margin-left', '0px');

        var width = selected.clientWidth - 16;
        //d3.select('#' + originatorId + ' svg').style('margin-left', xOffset + 'px').transition().duration(duration)
            //.style('margin-left')
        var graph = skillGraph().skills(skills).width(width);
        d3.select('#' + originatorId + ' svg').attr('width', width + 'px')
            .call(graph.transitionToBar, xOffset, duration);
   }

    d3.selectAll('.three.columns').transition()//.duration(4000)
        .styleTween('width', function() { return d3.interpolate('22%', '25%'); })
        .styleTween('margin-left', function() { 
            var start = this.id === 'Front' ? '0%' : '4%';
            var end = this.id === 'Front' ? '0%' : '0%';
            return d3.interpolate(start, end);
        }).each(function () { transCount++; })
        .each('end', makeSingle);
}

d3.selectAll('.three.columns').on('click', function () {
    paperCombine(this.id);
});

var skills = [
    [
        { id: 'js', name: 'javascript', level: 4, description: '' },
        { id: 'html5', name: 'html5', level: 3.5, description: '' },
    ],
    [
        { id: 'c#', name: 'C#', level: 3.5, description: '' },
        { id: 'sql', name: 'SQL', level: 3.5, description: '' },
    ],
    [
        { id: 'linux', name: 'Linux', level: 3, description: '' },
        { id: 'windows', name: 'Windows', level: 3, description: '' },
    ],
    [
        { id: 'danalysis', name: 'D.Analysis', level: 3, description: '' },
        { id: 'geo', name: 'Geo system', level: 3.5, description: '' },
    ],
];

function compactPanel(id, skills) {
    var panel = d3.select('#' + id);
    var width = panel.node().clientWidth - 16;
    var svg = panel.append('svg').attr('width', width + 'px');

    var graph = skillGraph().skills(skills).width(width);
    svg.attr('height', graph.estHeight() + 'px');
    svg.call(graph.renderCompact);
}

['Front', 'Back', 'DevOps', 'Business'].forEach(function (s, i) {
    compactPanel(s, skills[i]);
});
      </script>
    </body>
</html>
